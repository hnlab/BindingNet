'''
modify mol2 file for generating parameter
add altLoc colunmn
'''
import sys

mol2_file = sys.argv[1]
modified_mol2_file = sys.argv[2]

def modify_mol2(mol2_file, modified_mol2_file):
    with open(mol2_file, 'r') as f1:
        lines = f1.readlines()
    
    with open(modified_mol2_file, 'w', newline='') as f2:
        for line in lines:
            newline = line
            if ' LIG ' in line:
                atom_id = line.split()[0]
                atom_name = line.split()[5].split('.')[0]
                if len(atom_name) == 1:
                    newline = line[0:5] +  atom_name + f'{atom_id:3}' + " "+ line[10:]
                else: # atom_name = "CL"...
                    newline = line[0:5] +  atom_name.upper() + f'{atom_id:3}' + line[10:]
            f2.write(newline)

modify_mol2(mol2_file, modified_mol2_file)
